@using ContosoUniversity.Enums;
@model PaginatedList<ContosoUniversity.Models.Student>

@foreach (var item in Model) 
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EnrollmentDate)
        </td>
        <td>
            <a href="/students/@item.ID?action=@ActionType.Edit.ToString()"
               hx-trigger="click"
               hx-get="/students/@item.ID?action=@ActionType.Edit.ToString()"
               hx-target="#dialog"
               hx-swap="innerHTML">
                Edit
            </a>
            |
            <a href="/students/@item.ID?action=@ActionType.View.ToString()"
               hx-trigger="click"
               hx-get="/students/@item.ID?action=@ActionType.View.ToString()"
               hx-target="#dialog"
               hx-swap="innerHTML">
                Details
            </a>
            |
            <a href="/students/@item.ID?action=@ActionType.Delete.ToString()"
                hx-trigger="click"
               hx-get="/students/@item.ID?action=@ActionType.Delete.ToString()"
                hx-target="#dialog"
                hx-swap="innerHTML">
                 Delete
            </a>
        </td>
    </tr>
}

<tfoot>
    <tr>
        <td colspan="3" style="border-bottom: none">
            @{
                var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
                var nextDisabled = !Model.HasNextPage ? "disabled" : "";
            }

            <a class="btn btn-outline-primary @prevDisabled"
               href="?columnName=@ViewData["ColumnName"]&sortOrder=@ViewData["SortOrder"]&filter=@ViewData["Filter"]&pageNumber=@(Model.PageIndex - 1)"
               hx-trigger="click"
               hx-get="?columnName=@ViewData["ColumnName"]&sortOrder=@ViewData["SortOrder"]&filter=@ViewData["Filter"]&pageNumber=@(Model.PageIndex - 1)"
               hx-target="#detailList"
               hx-swap="innerHTML">
                Previous
            </a>

            <a class="btn btn-outline-primary @nextDisabled"
               href="?columnName=@ViewData["ColumnName"]&sortOrder=@ViewData["SortOrder"]&filter=@ViewData["Filter"]&pageNumber=@(Model.PageIndex + 1)"
               hx-trigger="click"
               hx-get="?columnName=@ViewData["ColumnName"]&sortOrder=@ViewData["SortOrder"]&filter=@ViewData["Filter"]&pageNumber=@(Model.PageIndex + 1)"
               hx-target="#detailList"
               hx-swap="innerHTML">
                Next
            </a>
        </td>
    </tr>
</tfoot>