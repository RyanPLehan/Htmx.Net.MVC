@using ContosoUniversity.Enums;
@model IEnumerable<ContosoUniversity.Models.Instructor>

@foreach (var item in Model) 
{
    <div class="row border-1 pt-2">
        <div class="col-sm">
            <details data-toggle-state-values="collapse|expand"
                     data-toggle-state="collapse"
                     hx-on:toggle='HtmxUtils.handleToggle(event, this);'
                     hx-on:toggle-collapse='document.getElementById("instructor-courses-@item.ID").innerHTML="";'
                     hx-trigger="toggle-expand"
                     hx-get="?id=@item.ID"
                     hx-target="#instructor-courses-@item.ID"
                     hx-swap="innerHTML">
                <summary>
                    @Html.DisplayFor(modelItem => item.LastName)
                </summary>
            </details>
        </div>
        <div class="col-sm">
            @Html.DisplayFor(modelItem => item.FirstName)
        </div>
        <div class="col-sm">
            @Html.DisplayFor(modelItem => item.HireDate)
        </div>
        <div class="col-sm">
            @if (item.OfficeAssignment != null)
            {
                @item.OfficeAssignment.Location
            }
        </div>
        <div class="col-sm">
            <a href="/instructors/@item.ID?action=@ActionType.Edit.ToString()"
               hx-trigger="click"
               hx-get="/instructors/@item.ID?action=@ActionType.Edit.ToString()"
               hx-target="#dialog"
               hx-swap="innerHTML">
                Edit
            </a>
            |
            <a href="/instructors/@item.ID?action=@ActionType.View.ToString()"
               hx-trigger="click"
               hx-get="/instructors/@item.ID?action=@ActionType.View.ToString()"
               hx-target="#dialog"
               hx-swap="innerHTML">
                Details
            </a>
            |
            <a href="/instructors/@item.ID?action=@ActionType.Delete.ToString()"
               hx-trigger="click"
               hx-get="/instructors/@item.ID?action=@ActionType.Delete.ToString()"
               hx-target="#dialog"
               hx-swap="innerHTML">
                Delete
            </a>
        </div>
    </div>
    <div class="mt-1 me-1 ms-2 border border-black ps-3" id="instructor-courses-@item.ID"></div>
}